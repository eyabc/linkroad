(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8d883fe2"],{"584a":function(t,e){var s=t.exports={version:"2.6.4"};"number"==typeof __e&&(__e=s)},"7f94":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"site-wrap"},[s("siteHeader"),s("div",{staticClass:"container"},[s("div",{staticClass:"container-innner"},[t.$store.state.member?s("router-view"):[s("div",[t._v("로그인을 해주세요")])]],2)]),s("siteFooter"),s("layerTemplate")],1)},n=[],i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",{staticClass:"header"},[s("div",{staticClass:"container"},[s("div",{staticClass:"s-gnb"},[t.$store.state.member?s("ul",[s("li",[s("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.logout(e)}}},[t._v("로그아웃")])])]):s("ul",[s("li",[s("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.openLoginPopup(e)}}},[t._v("로그인")])])])]),s("h1",{staticClass:"logo"},[s("router-link",{staticClass:"-",attrs:{to:"/home"}},[t._v("LinkRoad")])],1),s("div",{staticClass:"search-frm"},[s("label",{staticClass:"input-label"},[s("input",{attrs:{type:"text",name:"search-query",autofocus:""}}),s("button",{staticClass:"pre",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.search(e)}}},[s("i",{staticClass:"fas fa-search-location title-friend"})])])]),t.$store.state.member?s("ul",{staticClass:"l-gnb"}):t._e()])])},r=[],o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.$store.state.member?t._e():s("div",{staticClass:"login"},[s("form",{attrs:{action:"/api/login",method:"post"},on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[s("ul",{staticClass:"fields"},[t._m(0),s("li",[s("label",{staticClass:"input-label"},[t._m(1),s("input",{staticClass:"full-width",attrs:{type:"password",name:"pw",required:""}}),s("span",{staticClass:"lbl"},[t._v("비밀번호")]),t.capsLock?s("small",[t._v("capsLock이 켜져있습니다")]):t._e()])])]),s("button",{staticClass:"btn",attrs:{type:"submit"}},[t._v("로그인")]),s("div",{staticClass:"option"},[s("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.autoLogin(e)}}},[t._v("자동로그인")]),s("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.signinPopup(e)}}},[t._v("회원가입")]),s("a",{attrs:{href:"#"}},[t._v("pw/id 찾기")])])])])},l=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("label",{staticClass:"input-label"},[s("span",{staticClass:"pre"},[s("i",{staticClass:"fas fa-user"})]),s("input",{staticClass:"full-width",attrs:{type:"text",name:"id",required:"",autofocus:""}}),s("span",{staticClass:"lbl"},[t._v("아이디")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"pre"},[s("i",{staticClass:"fas fa-key"})])}],c=s("f499"),u=s.n(c),p={data:function(){return{capsLock:!1}},methods:{capsLockCheck:function(t){t.getModifierState("CapsLock")?this.capsLock=!0:this.capsLock=!1},signinPopup:function(){var t="width=400px, height=350px, toolbar=no, menubar=no, location=no, status=no, resizable=no;";window.open(this.$store.state.siteurl+"/signup","회원가입",t,!1)},login:function(t){var e=this,s=t.target,a={pw:s.pw.value,id:s.id.value};fetch("/api/login",{method:"post",headers:{"Content-Type":"application/json"},body:u()(a)}).then(function(t){return t.json()}).then(function(t){t.success?(alert("로그인 되었습니다."),e.$store.state.member=t.member,e.$store.commit("closeLayer"),e.$router.push("/home")):(alert("아이디 또는 비밀번호가 일치하지 않습니다."),s.id.focus())})}}},f=p,m=s("2877"),h=Object(m["a"])(f,o,l,!1,null,null,null),d=h.exports,v={created:function(){this.memberCheck()},methods:{openLoginPopup:function(){this.$store.commit("openLayer",d)},logout:function(){this.$store.commit("logout"),this.$router.push("/")},search:function(){console.log("search")},memberCheck:function(){var t=this;fetch("/api/login").then(function(t){return t.json()}).then(function(e){console.log(e);sessionStorage.getItem("member");t.$store.state.member=e.success?e.member:null})}}},b=v,C=Object(m["a"])(b,i,r,!1,null,null,null),_=C.exports,g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div")},k=[],y={},$=Object(m["a"])(y,g,k,!1,null,null,null),w=$.exports,L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return!1!==t.$store.state.layerState?s("div",{staticClass:"layer"},[s("span",{staticClass:"middle"}),s("div",[s("a",{staticClass:"close",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.close(e)}}},[s("i",{staticClass:"fas fa-times"})]),s(t.$store.state.layerState,{tag:"component"})],1)]):t._e()},x=[],j={components:{login:d},methods:{close:function(){this.$store.commit("closeLayer")}}},O=j,D=Object(m["a"])(O,L,x,!1,null,null,null),E=D.exports,S={components:{siteHeader:_,siteFooter:w,layerTemplate:E}},J=S,P=Object(m["a"])(J,a,n,!1,null,null,null);e["default"]=P.exports},a21f:function(t,e,s){var a=s("584a"),n=a.JSON||(a.JSON={stringify:JSON.stringify});t.exports=function(t){return n.stringify.apply(n,arguments)}},f499:function(t,e,s){t.exports=s("a21f")}}]);
//# sourceMappingURL=chunk-8d883fe2.c83ad43d.js.map